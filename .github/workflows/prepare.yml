{
  name: "ğŸ½ï¸ Prepare Release",
  run-name: "${{github.event.release.name}}",
  on: {
    push: {branches: "main"}
  },
  
  jobs: {
    build-test: {
      name: "ğŸ› ï¸ Build & Test",
      uses: "./.github/workflows/test.yml"
    },
    publish: {
      name: "ğŸ“¢ Publish",
      needs: "build-test",
      runs-on: "ubuntu-24.04",
      timeout-minutes: 5,
      
      steps: [
        {
          id: "artifacts-download",
          name: "ğŸ“¥ Artifacts: Download",
          permissions: {contents: "read"},
          
          uses: "actions/download-artifact@v4.1.8",
          with: {name: "${{needs.build-test.outputs.build-artifact-identifier}}"}
        },
        {
          id: "prepare-release",
          name: "ğŸ½ï¸ Prepare: Release",
          permissions: {contents: "write"},
          
          uses: "softprops/action-gh-release@v2.2.0",
          with: {
            draft: true,
            tag_name: test,
            
            files: "./product/",
            preserve_order: true,
            fail_on_unmatched_files: true
          }
        }
      ]
    }
  }
}